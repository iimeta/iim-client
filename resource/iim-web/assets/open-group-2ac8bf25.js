import{b_ as Y,b$ as ee,c0 as I,c1 as y,ak as T,an as v,al as B,bj as oe,aj as ne,a4 as F,ap as re,as as O,bl as te,T as j,bo as se,aS as m,ay as le,r as P,a5 as h,c2 as ae,c3 as ie,aO as ce,c4 as de,bi as ue,aE as he,c5 as ge,c6 as fe,c7 as ve,c8 as pe,I as me,c,e as L,f as w,h as A,w as _,i as b,C as R,j as k,a$ as be,aX as Ce,aD as _e,s as xe,c9 as Ie,d as N,k as E,t as ye,S as ke,F as M,l as we,q as Se,v as ze,E as $e,ca as Te,R as Pe,x as Ee,y as Le,z as Re,b as We}from"./index-9f644312.js";import{G as Ae}from"./GroupCard-3a02477b.js";const He=e=>{const{lineHeight:o,borderRadius:r,fontWeightStrong:i,baseColor:a,dividerColor:d,actionColor:C,textColor1:g,textColor2:n,closeColorHover:s,closeColorPressed:u,closeIconColor:f,closeIconColorHover:x,closeIconColorPressed:t,infoColor:l,successColor:S,warningColor:z,errorColor:$,fontSize:W}=e;return Object.assign(Object.assign({},ee),{fontSize:W,lineHeight:o,titleFontWeight:i,borderRadius:r,border:`1px solid ${d}`,color:C,titleTextColor:g,iconColor:n,contentTextColor:n,closeBorderRadius:r,closeColorHover:s,closeColorPressed:u,closeIconColor:f,closeIconColorHover:x,closeIconColorPressed:t,borderInfo:`1px solid ${I(a,y(l,{alpha:.25}))}`,colorInfo:I(a,y(l,{alpha:.08})),titleTextColorInfo:g,iconColorInfo:l,contentTextColorInfo:n,closeColorHoverInfo:s,closeColorPressedInfo:u,closeIconColorInfo:f,closeIconColorHoverInfo:x,closeIconColorPressedInfo:t,borderSuccess:`1px solid ${I(a,y(S,{alpha:.25}))}`,colorSuccess:I(a,y(S,{alpha:.08})),titleTextColorSuccess:g,iconColorSuccess:S,contentTextColorSuccess:n,closeColorHoverSuccess:s,closeColorPressedSuccess:u,closeIconColorSuccess:f,closeIconColorHoverSuccess:x,closeIconColorPressedSuccess:t,borderWarning:`1px solid ${I(a,y(z,{alpha:.33}))}`,colorWarning:I(a,y(z,{alpha:.08})),titleTextColorWarning:g,iconColorWarning:z,contentTextColorWarning:n,closeColorHoverWarning:s,closeColorPressedWarning:u,closeIconColorWarning:f,closeIconColorHoverWarning:x,closeIconColorPressedWarning:t,borderError:`1px solid ${I(a,y($,{alpha:.25}))}`,colorError:I(a,y($,{alpha:.08})),titleTextColorError:g,iconColorError:$,contentTextColorError:n,closeColorHoverError:s,closeColorPressedError:u,closeIconColorError:f,closeIconColorHoverError:x,closeIconColorPressedError:t})},Be={name:"Alert",common:Y,self:He},je=Be,Ne=T("alert",`
 line-height: var(--n-line-height);
 border-radius: var(--n-border-radius);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 text-align: start;
 word-break: break-word;
`,[v("border",`
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 transition: border-color .3s var(--n-bezier);
 border: var(--n-border);
 pointer-events: none;
 `),B("closable",[T("alert-body",[v("title",`
 padding-right: 24px;
 `)])]),v("icon",{color:"var(--n-icon-color)"}),T("alert-body",{padding:"var(--n-padding)"},[v("title",{color:"var(--n-title-text-color)"}),v("content",{color:"var(--n-content-text-color)"})]),oe({originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.9)"}}),v("icon",`
 position: absolute;
 left: 0;
 top: 0;
 align-items: center;
 justify-content: center;
 display: flex;
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 margin: var(--n-icon-margin);
 `),v("close",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 `),B("show-icon",[T("alert-body",{paddingLeft:"calc(var(--n-icon-margin-left) + var(--n-icon-size) + var(--n-icon-margin-right))"})]),T("alert-body",`
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 `,[v("title",`
 transition: color .3s var(--n-bezier);
 font-size: 16px;
 line-height: 19px;
 font-weight: var(--n-title-font-weight);
 `,[ne("& +",[v("content",{marginTop:"9px"})])]),v("content",{transition:"color .3s var(--n-bezier)",fontSize:"var(--n-font-size)"})]),v("icon",{transition:"color .3s var(--n-bezier)"})]),Me=Object.assign(Object.assign({},O.props),{title:String,showIcon:{type:Boolean,default:!0},type:{type:String,default:"default"},bordered:{type:Boolean,default:!0},closable:Boolean,onClose:Function,onAfterLeave:Function,onAfterHide:Function}),Fe=F({name:"Alert",inheritAttrs:!1,props:Me,setup(e){const{mergedClsPrefixRef:o,mergedBorderedRef:r,inlineThemeDisabled:i,mergedRtlRef:a}=re(e),d=O("Alert","-alert",Ne,je,e,o),C=te("Alert",a,o),g=j(()=>{const{common:{cubicBezierEaseInOut:t},self:l}=d.value,{fontSize:S,borderRadius:z,titleFontWeight:$,lineHeight:W,iconSize:V,iconMargin:H,iconMarginRtl:G,closeIconSize:D,closeBorderRadius:J,closeSize:q,closeMargin:U,closeMarginRtl:K,padding:X}=l,{type:p}=e,{left:Z,right:Q}=se(H);return{"--n-bezier":t,"--n-color":l[m("color",p)],"--n-close-icon-size":D,"--n-close-border-radius":J,"--n-close-color-hover":l[m("closeColorHover",p)],"--n-close-color-pressed":l[m("closeColorPressed",p)],"--n-close-icon-color":l[m("closeIconColor",p)],"--n-close-icon-color-hover":l[m("closeIconColorHover",p)],"--n-close-icon-color-pressed":l[m("closeIconColorPressed",p)],"--n-icon-color":l[m("iconColor",p)],"--n-border":l[m("border",p)],"--n-title-text-color":l[m("titleTextColor",p)],"--n-content-text-color":l[m("contentTextColor",p)],"--n-line-height":W,"--n-border-radius":z,"--n-font-size":S,"--n-title-font-weight":$,"--n-icon-size":V,"--n-icon-margin":H,"--n-icon-margin-rtl":G,"--n-close-size":q,"--n-close-margin":U,"--n-close-margin-rtl":K,"--n-padding":X,"--n-icon-margin-left":Z,"--n-icon-margin-right":Q}}),n=i?le("alert",j(()=>e.type[0]),g,e):void 0,s=P(!0),u=()=>{const{onAfterLeave:t,onAfterHide:l}=e;t&&t(),l&&l()};return{rtlEnabled:C,mergedClsPrefix:o,mergedBordered:r,visible:s,handleCloseClick:()=>{var t;Promise.resolve((t=e.onClose)===null||t===void 0?void 0:t.call(e)).then(l=>{l!==!1&&(s.value=!1)})},handleAfterLeave:()=>{u()},mergedTheme:d,cssVars:i?void 0:g,themeClass:n==null?void 0:n.themeClass,onRender:n==null?void 0:n.onRender}},render(){var e;return(e=this.onRender)===null||e===void 0||e.call(this),h(ue,{onAfterLeave:this.handleAfterLeave},{default:()=>{const{mergedClsPrefix:o,$slots:r}=this,i={class:[`${o}-alert`,this.themeClass,this.closable&&`${o}-alert--closable`,this.showIcon&&`${o}-alert--show-icon`,this.rtlEnabled&&`${o}-alert--rtl`],style:this.cssVars,role:"alert"};return this.visible?h("div",Object.assign({},ae(this.$attrs,i)),this.closable&&h(ie,{clsPrefix:o,class:`${o}-alert__close`,onClick:this.handleCloseClick}),this.bordered&&h("div",{class:`${o}-alert__border`}),this.showIcon&&h("div",{class:`${o}-alert__icon`,"aria-hidden":"true"},ce(r.icon,()=>[h(he,{clsPrefix:o},{default:()=>{switch(this.type){case"success":return h(pe,null);case"info":return h(ve,null);case"warning":return h(fe,null);case"error":return h(ge,null);default:return null}}})])),h("div",{class:[`${o}-alert-body`,this.mergedBordered&&`${o}-alert-body--bordered`]},de(r.header,a=>{const d=a||this.title;return d?h("div",{class:`${o}-alert-body__title`},d):null}),r.default&&h("div",{class:`${o}-alert-body__content`},r))):null}})}}),Oe=me("add-one",!1,function(e){return c("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[c("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),c("path",{d:"M24 16V32",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),c("path",{d:"M16 24L32 24",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),Ve={style:{width:"100%","text-align":"right"}},Ge={__name:"GroupApply",props:{gid:{type:Number,default:0}},emits:["close"],setup(e,{emit:o}){const r=e,i=P(""),a=P(!0),d=P(!1),C=()=>{o("close")},g=()=>{d.value=!0;let n=Ie({group_id:r.gid,remark:i.value});n.then(s=>{s.code==200?(window.$message.success("入群申请提交成功"),C()):window.$message.warning(s.message)}),n.finally(()=>{d.value=!1})};return(n,s)=>{const u=L("n-button");return w(),A(k(xe),{show:a.value,"onUpdate:show":s[1]||(s[1]=f=>a.value=f),preset:"card",title:"入群申请",class:"modal-radius",style:{"max-width":"450px"},"on-after-leave":C},{footer:_(()=>[b("div",Ve,[c(u,{type:"tertiary",onClick:C},{default:_(()=>[R(" 取消 ")]),_:1}),c(u,{type:"primary",class:"mt-l15",loading:d.value,disabled:!i.value,onClick:g},{default:_(()=>[R(" 提交 ")]),_:1},8,["loading","disabled"])])]),default:_(()=>[c(k(be),null,{default:_(()=>[c(k(Ce),{label:"申请备注",required:""},{default:_(()=>[c(k(_e),{placeholder:"请填写申请备注",type:"textarea",value:i.value,"onUpdate:value":s[0]||(s[0]=f=>i.value=f)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["show"])}}},De=e=>(Ee("data-v-7d0c0c5f"),e=e(),Le(),e),Je={class:"el-container height100"},qe={class:"el-main"},Ue={class:"el-container is-vertical height100"},Ke={class:"el-header from-header bdr-b"},Xe={key:0,class:"el-main flex-center"},Ze=De(()=>b("img",{src:Re,alt:""},null,-1)),Qe={key:1,class:"el-main me-scrollbar me-scrollbar-thumb pd-10"},Ye={class:"cards"},eo=F({__name:"open-group",setup(e){const o=N({isShow:!1,groupId:0}),r=N({page:1,next:!1,name:"",loading:!1}),i=P([]),a=()=>{r.loading||(r.loading=!0,Te({page:r.page,name:r.name}).then(n=>{if(n.code==200){let s=n.data.items||[];r.page==1?i.value=s:i.value.push(...s),r.next=n.data.next}}).finally(()=>{r.loading=!1}))},d=()=>{r.page++,a()},C=Pe(n=>{r.page=1,r.name=n,a()},300),g=n=>{o.isShow=!0,o.groupId=n.id};return a(),(n,s)=>{const u=L("n-icon"),f=L("n-input"),x=L("n-empty");return w(),E(M,null,[b("section",Je,[b("main",qe,[b("section",Ue,[b("header",Ke,[b("div",null,"公开群聊("+ye(i.value.length)+")",1),b("div",null,[c(f,{placeholder:"搜索",clearable:"",style:{width:"200px"},"on-input":k(C),round:""},{prefix:_(()=>[c(u,{component:k(ke)},null,8,["component"])]),_:1},8,["on-input"])])]),i.value.length==0?(w(),E("main",Xe,[c(x,{size:"200",description:"暂无相关数据"},{icon:_(()=>[Ze]),_:1})])):(w(),E("main",Qe,[c(k(Fe),{type:"info",bordered:!1,closable:"",class:"mt-b10"},{default:_(()=>[R(" 公开群聊可自行提交入群申请，待群主/管理员同意后方可入群 ")]),_:1}),b("div",Ye,[(w(!0),E(M,null,we(i.value,t=>(w(),A(Ae,{avatar:t.avatar,username:t.name,gender:t.gender,motto:t.profile,flag:t.count+"/"+t.max_num,onJoin:l=>g(t)},null,8,["avatar","username","gender","motto","flag","onJoin"]))),256)),Se(b("div",{class:"flex-center more",onClick:d},[c(u,{component:k(Oe)},null,8,["component"]),R("  加载更多 ")],512),[[ze,r.next]])])]))])])]),o.isShow?(w(),A(Ge,{key:0,gid:o.groupId,onClose:s[0]||(s[0]=t=>o.isShow=!1)},null,8,["gid"])):$e("",!0)],64)}}});const ro=We(eo,[["__scopeId","data-v-7d0c0c5f"]]);export{ro as default};
